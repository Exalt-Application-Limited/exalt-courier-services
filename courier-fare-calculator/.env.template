# =================================
# COURIER FARE CALCULATOR SERVICE CONFIGURATION
# =================================

# Server Configuration
PORT=3002
NODE_ENV=development
SERVICE_NAME=courier-fare-calculator
API_VERSION=v1

# Database Configuration - MongoDB
DB_HOST=localhost
DB_PORT=27017
DB_NAME=courier_fare_calculator_db
DB_USER=fare_user
DB_PASS=fare_password
DB_AUTH_SOURCE=admin
DB_SSL=false
DB_POOL_SIZE=10
DB_CONNECTION_TIMEOUT=5000
DB_SERVER_SELECTION_TIMEOUT=5000

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=1
REDIS_PREFIX=courier:fare:
REDIS_TTL=1800
REDIS_CONNECTION_TIMEOUT=5000

# Fare Calculation Configuration
BASE_FARE=5.00
DISTANCE_RATE_PER_KM=2.50
TIME_RATE_PER_MINUTE=0.50
SURGE_MULTIPLIER_MAX=3.0
MINIMUM_FARE=3.00
MAXIMUM_FARE=500.00
CURRENCY=USD

# Pricing Strategy
DYNAMIC_PRICING_ENABLED=true
SURGE_PRICING_ENABLED=true
DISCOUNT_SYSTEM_ENABLED=true
PROMOTIONAL_RATES_ENABLED=true

# External Services Configuration
MAPS_API_KEY=your_maps_api_key_here
MAPS_SERVICE_URL=https://api.googlemaps.com
TRAFFIC_API_KEY=your_traffic_api_key_here
WEATHER_API_KEY=your_weather_api_key_here

# JWT Authentication
JWT_SECRET=your_jwt_secret_key_here_min_32_chars
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000
JWT_ISSUER=courier-fare-calculator
JWT_AUDIENCE=courier-system

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:3002
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Content-Type,Authorization,X-Requested-With
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Caching Configuration
CACHE_ENABLED=true
CACHE_TTL=300
FARE_CACHE_ENABLED=true
FARE_CACHE_TTL=1800
ROUTE_CACHE_ENABLED=true
ROUTE_CACHE_TTL=3600

# Service Discovery
EUREKA_HOST=localhost
EUREKA_PORT=8761
EUREKA_INSTANCE_ID=courier-fare-calculator-3002
SERVICE_REGISTRY_ENABLED=true

# External Service URLs
GEO_ROUTING_SERVICE_URL=http://localhost:3003
LOCATION_TRACKER_SERVICE_URL=http://localhost:3004
NETWORK_LOCATIONS_SERVICE_URL=http://localhost:3005

# Monitoring and Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
METRICS_ENABLED=true
METRICS_PATH=/metrics
PERFORMANCE_MONITORING=true

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/courier-fare-calculator.log
LOG_FILE_MAX_SIZE=10485760
LOG_FILE_MAX_FILES=5
LOG_CONSOLE_ENABLED=true

# Security Configuration
HELMET_ENABLED=true
BODY_PARSER_LIMIT=10mb
REQUEST_TIMEOUT=30000
TRUST_PROXY=false
API_KEY_REQUIRED=true

# Error Handling
ERROR_STACK_TRACE=true
ERROR_REPORTING_ENABLED=true
SENTRY_DSN=

# Performance Configuration
CLUSTER_MODE=false
WORKERS_COUNT=4
GRACEFUL_SHUTDOWN_TIMEOUT=10000
KEEP_ALIVE_TIMEOUT=5000

# Calculation Engine Configuration
CALCULATION_PRECISION=2
ROUNDING_MODE=half_up
MAX_CALCULATION_TIME=5000
BATCH_CALCULATION_ENABLED=true
MAX_BATCH_SIZE=100

# Business Rules Configuration
PEAK_HOURS_START=07:00
PEAK_HOURS_END=09:00
EVENING_PEAK_START=17:00
EVENING_PEAK_END=19:00
WEEKEND_MULTIPLIER=1.2
HOLIDAY_MULTIPLIER=1.5

# API Documentation
SWAGGER_ENABLED=true
SWAGGER_PATH=/api-docs
API_DOCS_TITLE=Courier Fare Calculator API
API_DOCS_VERSION=1.0.0

# Development Configuration
DEBUG=courier:fare:*
HOT_RELOAD=true
WATCH_FILES=true
