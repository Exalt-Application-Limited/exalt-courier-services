# Branch Courier App Environment Configuration
# This file contains all environment variables needed for the Branch Courier Application
# Copy this file to .env and fill in the appropriate values

# Application Configuration
APP_NAME=branch-courier-app
APP_ENV=development
APP_PORT=8208
APP_VERSION=1.0.0
NODE_ENV=development
APP_TIMEZONE=UTC

# Service Registry Configuration
EUREKA_CLIENT_ENABLED=true
EUREKA_CLIENT_SERVICE_URL=http://localhost:8761/eureka/
EUREKA_INSTANCE_HOSTNAME=localhost
EUREKA_INSTANCE_PORT=8208
EUREKA_INSTANCE_PREFER_IP_ADDRESS=true
EUREKA_INSTANCE_LEASE_RENEWAL_INTERVAL=30
EUREKA_INSTANCE_LEASE_EXPIRATION_DURATION=90

# Database Configuration
DB_TYPE=postgresql
DB_HOST=localhost
DB_PORT=5432
DB_NAME=courier_branch_app
DB_USERNAME=courier_user
DB_PASSWORD=your_secure_password_here
DB_SCHEMA=branch_courier
DB_POOL_SIZE=20
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=600000
DB_MAX_LIFETIME=1800000
DB_SSL_ENABLED=false

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=1
REDIS_CONNECTION_TIMEOUT=5000
REDIS_COMMAND_TIMEOUT=5000
REDIS_CLUSTER_ENABLED=false
REDIS_SENTINEL_ENABLED=false
CACHE_TTL_SECONDS=3600

# Message Queue Configuration
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_CLIENT_ID=branch-courier-app
KAFKA_GROUP_ID=branch-courier-app-group
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=true
KAFKA_SESSION_TIMEOUT=30000
KAFKA_HEARTBEAT_INTERVAL=3000
KAFKA_MAX_POLL_RECORDS=500
KAFKA_TOPICS_BRANCH_EVENTS=branch-courier-events
KAFKA_TOPICS_NOTIFICATIONS=branch-notifications

# API Security Configuration
JWT_SECRET=your_jwt_secret_key_here_min_32_chars
JWT_EXPIRATION=86400
JWT_REFRESH_EXPIRATION=604800
JWT_ISSUER=branch-courier-app
API_KEY=your_api_key_here
API_SECRET=your_api_secret_here
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3002
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Branch-ID
CORS_MAX_AGE=3600

# Branch Specific Configuration
BRANCH_CODE_PREFIX=BCH
BRANCH_DEFAULT_TIMEZONE=UTC
BRANCH_MAX_COURIERS=50
BRANCH_MAX_ACTIVE_ORDERS=100
BRANCH_AUTO_ASSIGNMENT_ENABLED=true
BRANCH_WORKING_HOURS_START=08:00
BRANCH_WORKING_HOURS_END=22:00
BRANCH_COVERAGE_RADIUS_KM=10

# Courier Management Configuration
COURIER_IDLE_TIMEOUT_MINUTES=30
COURIER_MAX_CONCURRENT_ORDERS=5
COURIER_AUTO_LOGOUT_HOURS=12
COURIER_LOCATION_UPDATE_INTERVAL_SECONDS=30
COURIER_BATTERY_WARNING_THRESHOLD=20
COURIER_COMMISSION_CALCULATION_MODE=percentage

# Order Management Configuration
ORDER_AUTO_ACCEPT_TIMEOUT_SECONDS=300
ORDER_MAX_RETRY_ATTEMPTS=3
ORDER_PRIORITY_CALCULATION_ENABLED=true
ORDER_BATCH_PROCESSING_ENABLED=true
ORDER_BATCH_SIZE=10
ORDER_TRACKING_UPDATE_INTERVAL_SECONDS=60

# Monitoring Configuration
METRICS_ENABLED=true
METRICS_PORT=9091
PROMETHEUS_ENABLED=true
PROMETHEUS_PATH=/metrics
OPENTELEMETRY_ENABLED=true
OPENTELEMETRY_ENDPOINT=http://localhost:4317
OPENTELEMETRY_SERVICE_NAME=branch-courier-app
TRACING_ENABLED=true
TRACING_SAMPLING_RATE=0.1

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/var/log/courier-services/branch-courier-app
LOG_FILE_MAX_SIZE=100M
LOG_FILE_MAX_AGE=30
LOG_FILE_MAX_BACKUPS=10
LOG_TO_CONSOLE=true
LOG_CORRELATION_ENABLED=true
LOG_SANITIZE_SENSITIVE_DATA=true

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PORT=8208
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
LIVENESS_PROBE_PATH=/health/live
READINESS_PROBE_PATH=/health/ready

# Resource Limits
MAX_HEAP_SIZE=1024m
MIN_HEAP_SIZE=512m
THREAD_POOL_SIZE=50
CONNECTION_POOL_SIZE=100
REQUEST_TIMEOUT=30000
IDLE_TIMEOUT=60000
MAX_REQUEST_SIZE=10MB

# Feature Flags
FEATURE_REAL_TIME_TRACKING_ENABLED=true
FEATURE_PUSH_NOTIFICATIONS_ENABLED=true
FEATURE_OFFLINE_MODE_ENABLED=true
FEATURE_AUTO_DISPATCH_ENABLED=true
FEATURE_ROUTE_OPTIMIZATION_ENABLED=true
FEATURE_DIGITAL_SIGNATURE_ENABLED=true
FEATURE_PHOTO_PROOF_DELIVERY_ENABLED=true

# External Service Integration
GOOGLE_MAPS_API_KEY=your_google_maps_api_key
GOOGLE_MAPS_GEOCODING_ENABLED=true
GOOGLE_MAPS_DIRECTIONS_ENABLED=true
GOOGLE_MAPS_DISTANCE_MATRIX_ENABLED=true

# Notification Service Configuration
NOTIFICATION_SERVICE_URL=http://localhost:8090
FCM_SERVER_KEY=your_fcm_server_key
FCM_SENDER_ID=your_fcm_sender_id
APNS_CERT_PATH=/etc/ssl/apns/cert.pem
APNS_KEY_PATH=/etc/ssl/apns/key.pem
APNS_PRODUCTION=false

# SMS Configuration
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_FROM_NUMBER=+1234567890
SMS_RATE_LIMIT_PER_DAY=100

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_email_password
SMTP_FROM_ADDRESS=branch@courier-services.com
SMTP_FROM_NAME=Branch Courier Service
SMTP_TLS_ENABLED=true
EMAIL_TEMPLATE_PATH=/templates/email

# File Storage Configuration
STORAGE_TYPE=local
STORAGE_PATH=/var/data/courier-services/branch-app
MAX_FILE_SIZE=50MB
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx
TEMP_FILE_CLEANUP_INTERVAL_HOURS=24

# Session Management
SESSION_TIMEOUT_MINUTES=30
SESSION_EXTEND_ON_ACTIVITY=true
MAX_CONCURRENT_SESSIONS=3
SESSION_STORE=redis

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# Branch Analytics Configuration
ANALYTICS_ENABLED=true
ANALYTICS_BATCH_SIZE=100
ANALYTICS_FLUSH_INTERVAL_MS=30000
ANALYTICS_TRACK_USER_BEHAVIOR=true
ANALYTICS_TRACK_PERFORMANCE=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 3 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/var/backup/courier-services/branch-app

# Environment Specific Overrides
# Development
DEV_DEBUG_ENABLED=true
DEV_MOCK_EXTERNAL_SERVICES=false
DEV_BYPASS_AUTH=false

# Staging
STAGING_PERFORMANCE_MONITORING=true
STAGING_ERROR_REPORTING=true
STAGING_LOAD_TESTING_ENABLED=false

# Production
PROD_SSL_ENABLED=true
PROD_SSL_KEY_PATH=/etc/ssl/private/server.key
PROD_SSL_CERT_PATH=/etc/ssl/certs/server.crt
PROD_FORCE_HTTPS=true
PROD_SECURE_COOKIES=true

# Compliance and Audit
AUDIT_LOG_ENABLED=true
AUDIT_LOG_PATH=/var/log/courier-services/audit/branch-app
COMPLIANCE_MODE=standard
DATA_RETENTION_DAYS=365
PII_ENCRYPTION_ENABLED=true
GDPR_COMPLIANCE_ENABLED=true
HIPAA_COMPLIANCE_ENABLED=false

# Performance Tuning
HIBERNATE_BATCH_SIZE=25
HIBERNATE_FETCH_SIZE=100
HIBERNATE_SECOND_LEVEL_CACHE=true
HIBERNATE_QUERY_CACHE=true
HIBERNATE_SHOW_SQL=false
HIBERNATE_FORMAT_SQL=false
HIBERNATE_GENERATE_STATISTICS=false