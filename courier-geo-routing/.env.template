# =================================
# COURIER GEO ROUTING SERVICE CONFIGURATION
# =================================

# Server Configuration
PORT=3003
NODE_ENV=development
SERVICE_NAME=courier-geo-routing
API_VERSION=v1

# Database Configuration - MongoDB
DB_HOST=localhost
DB_PORT=27017
DB_NAME=courier_geo_routing_db
DB_USER=routing_user
DB_PASS=routing_password
DB_AUTH_SOURCE=admin
DB_SSL=false
DB_POOL_SIZE=10
DB_CONNECTION_TIMEOUT=5000
DB_SERVER_SELECTION_TIMEOUT=5000

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=2
REDIS_PREFIX=courier:routing:
REDIS_TTL=7200
REDIS_CONNECTION_TIMEOUT=5000

# Geospatial Configuration
DEFAULT_COORDINATE_SYSTEM=WGS84
DISTANCE_UNIT=kilometers
ROUTING_PRECISION=6
MAX_WAYPOINTS=25
DEFAULT_ROUTING_PROFILE=driving

# External Maps & Routing APIs
GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here
MAPBOX_API_KEY=your_mapbox_api_key_here
OSRM_SERVER_URL=http://localhost:5000
HERE_API_KEY=your_here_api_key_here
PRIMARY_ROUTING_PROVIDER=google
FALLBACK_ROUTING_PROVIDER=osrm

# Route Optimization
OPTIMIZATION_ENABLED=true
GENETIC_ALGORITHM_ENABLED=true
ANT_COLONY_OPTIMIZATION=false
MAX_OPTIMIZATION_TIME=30000
POPULATION_SIZE=50
GENERATIONS=100
MUTATION_RATE=0.01

# Traffic Integration
REAL_TIME_TRAFFIC_ENABLED=true
TRAFFIC_UPDATE_INTERVAL=300000
HISTORICAL_TRAFFIC_ENABLED=true
TRAFFIC_MULTIPLIER_MAX=2.5

# JWT Authentication
JWT_SECRET=your_jwt_secret_key_here_min_32_chars
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000
JWT_ISSUER=courier-geo-routing
JWT_AUDIENCE=courier-system

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:3003
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Content-Type,Authorization,X-Requested-With
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=500
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Caching Configuration
ROUTE_CACHE_ENABLED=true
ROUTE_CACHE_TTL=3600
GEOCODING_CACHE_ENABLED=true
GEOCODING_CACHE_TTL=86400
DISTANCE_MATRIX_CACHE_TTL=1800

# Service Discovery
EUREKA_HOST=localhost
EUREKA_PORT=8761
EUREKA_INSTANCE_ID=courier-geo-routing-3003
SERVICE_REGISTRY_ENABLED=true

# External Service URLs
FARE_CALCULATOR_SERVICE_URL=http://localhost:3002
LOCATION_TRACKER_SERVICE_URL=http://localhost:3004
NETWORK_LOCATIONS_SERVICE_URL=http://localhost:3005

# Monitoring and Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
METRICS_ENABLED=true
METRICS_PATH=/metrics
PERFORMANCE_MONITORING=true

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/courier-geo-routing.log
LOG_FILE_MAX_SIZE=10485760
LOG_FILE_MAX_FILES=5
LOG_CONSOLE_ENABLED=true

# Security Configuration
HELMET_ENABLED=true
BODY_PARSER_LIMIT=10mb
REQUEST_TIMEOUT=45000
TRUST_PROXY=false
API_KEY_VALIDATION=true

# Error Handling
ERROR_STACK_TRACE=true
ERROR_REPORTING_ENABLED=true
SENTRY_DSN=

# Performance Configuration
CLUSTER_MODE=false
WORKERS_COUNT=4
GRACEFUL_SHUTDOWN_TIMEOUT=10000
KEEP_ALIVE_TIMEOUT=5000

# Routing Algorithm Configuration
DEFAULT_ALGORITHM=dijkstra
ALTERNATIVE_ROUTES=3
AVOID_TOLLS=false
AVOID_HIGHWAYS=false
AVOID_FERRIES=false
PREFERRED_ROUTE_TYPE=fastest

# Geofencing Configuration
GEOFENCING_ENABLED=true
MAX_GEOFENCES=100
GEOFENCE_PRECISION=100
DELIVERY_ZONE_VALIDATION=true

# Load Balancing for External APIs
API_LOAD_BALANCING=true
API_CIRCUIT_BREAKER_ENABLED=true
API_TIMEOUT=10000
API_RETRY_ATTEMPTS=3
API_RETRY_DELAY=1000

# Batch Processing
BATCH_ROUTING_ENABLED=true
MAX_BATCH_SIZE=100
BATCH_PROCESSING_TIMEOUT=60000
CONCURRENT_BATCH_LIMIT=5

# API Documentation
SWAGGER_ENABLED=true
SWAGGER_PATH=/api-docs
API_DOCS_TITLE=Courier Geo Routing API
API_DOCS_VERSION=1.0.0

# Development Configuration
DEBUG=courier:routing:*
HOT_RELOAD=true
WATCH_FILES=true
